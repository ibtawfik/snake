{"version":3,"file":"index.min.js","sources":["../index.js"],"names":["angular","module","run","$translate","$log","realTimeService","randomService","createCanvasController","canvas","gotStartMatch","params","isGameOngoing","Error","yourPlayerIndex","playersInfo","matchController","isSinglePlayer","length","foodCreatedNum","allSnakes","allScores","index","create_snake","snake_array","create_food","d","startMatchTime","Date","getTime","setDrawInterval","gotMessage","fromPlayerIndex","messageString","message","messageObject","fromJson","a","s","f","gotEndMatch","endMatchScores","stopDrawInterval","sendMessage","isReliable","toJson","sendReliableMessage","sendUnreliableMessage","lostMatch","endMatch","intervalMillis","Math","max","drawEveryMilliseconds","floor","drawInterval","setInterval","updateAndDraw","clearInterval","playerIndex","arr","i","push","x","y","canvasWidth","cellWidth","food","randomFromTo","colsNum","rowsNum","secondsFromStart","changeDirQueue","draw","secondsToReallyStart","yourColor","playerSnakeColor","ctx","fillStyle","font","fillText","canvasHeight","msg","instant","color","toUpperCase","changeDirection","nx","ny","check_collision","tail","pop","unshift","fillRect","strokeStyle","strokeRect","drawSnake","paint_cell","score","snake","c","cellHeight","array","key","shift","addChangeDir","dir","processTouch","e","preventDefault","touchobj","targetTouches","lastX","pageX","lastY","pageY","distX","distY","swipedir","absDistX","abs","absDistY","info","id","getContext","document","addEventListener","which","init","config","$translateProvider","window","angularTranslations","translations","useStaticFilesLoader","prefix","suffix","registerAvailableLanguageKeys","fallbackLanguage","determinePreferredLanguage"],"mappings":"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"}